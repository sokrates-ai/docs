(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{1091:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/self-hosting/configuration",function(){return n(4880)}])},4880:(e,s,n)=>{"use strict";n.r(s),n.d(s,{__toc:()=>a,default:()=>c});var i=n(5893),o=n(2673),l=n(2643),r=n(208);let a=[{depth:2,value:"Backend config file",id:"backend-config-file"},{depth:3,value:"General Metadata",id:"general-metadata"},{depth:4,value:"Site name",id:"site-name"},{depth:4,value:"Site description",id:"site-description"},{depth:4,value:"Contact email",id:"contact-email"},{depth:3,value:"Hosting Config",id:"hosting-config"},{depth:4,value:"Domain",id:"domain"},{depth:4,value:"SSL",id:"ssl"},{depth:4,value:"Allowed Origins",id:"allowed-origins"},{depth:4,value:"Allowed Origins Regex",id:"allowed-origins-regex"},{depth:4,value:"Cookies Domain",id:"cookies-domain"},{depth:5,value:"Sub Domains",id:"sub-domains"},{depth:3,value:"Database Config",id:"database-config"},{depth:4,value:"PostgreSQL Connection string",id:"postgresql-connection-string"},{depth:3,value:"Redis Config",id:"redis-config"},{depth:4,value:"Redis connection string",id:"redis-connection-string"},{depth:3,value:"Mailing Config",id:"mailing-config"},{depth:4,value:"Resend API Key",id:"resend-api-key"},{depth:4,value:"System Email Address",id:"system-email-address"},{depth:2,value:"Frontend config file",id:"frontend-config-file"},{depth:3,value:"Authentication (Oauth) configuration",id:"authentication-oauth-configuration"},{depth:3,value:"Multi Organizations",id:"multi-organizations"}];function t(e){let s=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre",span:"span",h3:"h3",h4:"h4",h5:"h5",ul:"ul",li:"li",a:"a"},(0,l.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{children:"Configuration"}),"\n",(0,i.jsx)(s.p,{children:"For self hosted LearnHouse users, a custom configuration file can be used to suit your needs."}),"\n",(0,i.jsx)(s.h2,{id:"backend-config-file",children:"Backend config file"}),"\n",(0,i.jsxs)(s.p,{children:["Here is an example of the ",(0,i.jsx)(s.code,{children:"config.yaml"})," file :"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",filename:"config.yaml",hasCopyCode:!0,children:(0,i.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"site_name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"LearnHouse"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"site_description"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"LearnHouse is an open-source platform tailored for learning experiences."})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"contact_email"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"hi@learnhouse.app"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"general"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"development_mode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"install_mode"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"security"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"auth_jwt_secret_key"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"secret"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"hosting_config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"domain"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"learnhouse.app"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"ssl"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"port"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1338"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"allowed_origins"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    - "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"http://localhost:3000"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    - "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"http://localhost:3001"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"cookies_config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"domain"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'".localhost"'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"allowed_regexp"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'\\b((?:https?://)[^\\s/$.?#].[^\\s]*)\\b'"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"content_delivery"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"filesystem"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'# "filesystem" or "s3api"'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"s3api"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"bucket_name"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'""'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"endpoint_url"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'""'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"mailing_config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"resend_api_key"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'""'})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"system_email_adress"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'""'})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"database_config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"sql_connection_string"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"postgresql://learnhouse:learnhouse@localhost:5432/learnhouse"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:" "}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"redis_config"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"redis_connection_string"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"redis://localhost:6379/learnhouse"})]})]})}),"\n",(0,i.jsxs)(s.p,{children:["You can also use a ",(0,i.jsx)(s.code,{children:".env"})," file to configure your backend."]}),"\n",(0,i.jsx)(r.UW,{children:(0,i.jsxs)(s.p,{children:["If an environment variable is set, it will override the value in the ",(0,i.jsx)(s.code,{children:"config.yaml"})," file"]})}),"\n",(0,i.jsx)(s.pre,{"data-language":"env","data-theme":"default",filename:".env",hasCopyCode:!0,children:(0,i.jsxs)(s.code,{"data-language":"env","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_SITE_NAME=LearnHouse"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_SITE_DESCRIPTION=LearnHouse is an open-source platform tailored for learning experiences."})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_CONTACT_EMAIL=hi@learnhouse.app "})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_DOMAIN=learnhouse.app"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_SSL=true"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_USE_DEFAULT_ORG=true"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_COOKIE_DOMAIN=.localhost"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_ALLOWED_REGEXP=\\b((?:https?://)[^\\s/$.?#].[^\\s]*)\\b"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_SELF_HOSTED=false"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"LEARNHOUSE_SQL_CONNECTION_STRING=postgresql://learnhouse:learnhouse@postgresql:5432/learnhouse"})})]})}),"\n",(0,i.jsx)(s.h3,{id:"general-metadata",children:"General Metadata"}),"\n",(0,i.jsx)(s.h4,{id:"site-name",children:"Site name"}),"\n",(0,i.jsx)(s.p,{children:"Your site name"}),"\n",(0,i.jsx)(s.h4,{id:"site-description",children:"Site description"}),"\n",(0,i.jsx)(s.p,{children:"A short description"}),"\n",(0,i.jsx)(s.h4,{id:"contact-email",children:"Contact email"}),"\n",(0,i.jsx)(s.p,{children:"Your designated contact email address."}),"\n",(0,i.jsx)(s.h3,{id:"hosting-config",children:"Hosting Config"}),"\n",(0,i.jsx)(s.h4,{id:"domain",children:"Domain"}),"\n",(0,i.jsx)(s.p,{children:"You site's technical domain"}),"\n",(0,i.jsx)(s.h4,{id:"ssl",children:"SSL"}),"\n",(0,i.jsx)(s.p,{children:"Is SSL used?"}),"\n",(0,i.jsx)(s.h4,{id:"allowed-origins",children:"Allowed Origins"}),"\n",(0,i.jsx)(s.p,{children:"A list of origins that should be permitted to make cross-origin requests to your website."}),"\n",(0,i.jsx)(s.h4,{id:"allowed-origins-regex",children:"Allowed Origins Regex"}),"\n",(0,i.jsx)(s.p,{children:"A regex string to match against origins that should be permitted to make cross-origin requests to your website."}),"\n",(0,i.jsx)(s.h4,{id:"cookies-domain",children:"Cookies Domain"}),"\n",(0,i.jsx)(s.p,{children:"Your frontend domain, the domain will be assigned to cookies that the backend emits, authentication and parts of your site would not work if not configured properly."}),"\n",(0,i.jsxs)(s.p,{children:["The value used in the ",(0,i.jsx)(s.code,{children:"yaml"}),' should be in the "string" format.']}),"\n",(0,i.jsx)(s.h5,{id:"sub-domains",children:"Sub Domains"}),"\n",(0,i.jsx)(s.p,{children:"If you want to use the backend for different subdomains locations, for example :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"domain.app"}),"\n",(0,i.jsx)(s.li,{children:"acme1.domain.app"}),"\n",(0,i.jsx)(s.li,{children:"acme2.domain.app"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["You can add a ",(0,i.jsx)(s.code,{children:"."})," before your domain, here it would be ",(0,i.jsx)(s.code,{children:".domain.app"})]}),"\n",(0,i.jsx)(s.h3,{id:"database-config",children:"Database Config"}),"\n",(0,i.jsx)(s.h4,{id:"postgresql-connection-string",children:"PostgreSQL Connection string"}),"\n",(0,i.jsx)(r.UW,{type:"info",children:(0,i.jsx)(s.p,{children:"As of December 2023, we've transitioned our database structure to PostgreSQL."})}),"\n",(0,i.jsx)(s.p,{children:"Your PostgreSQL Database connection string"}),"\n",(0,i.jsx)(s.h3,{id:"redis-config",children:"Redis Config"}),"\n",(0,i.jsx)(s.h4,{id:"redis-connection-string",children:"Redis connection string"}),"\n",(0,i.jsx)(s.p,{children:"Your Redis Database connection string"}),"\n",(0,i.jsx)(s.h3,{id:"mailing-config",children:"Mailing Config"}),"\n",(0,i.jsx)(s.h4,{id:"resend-api-key",children:"Resend API Key"}),"\n",(0,i.jsx)(s.p,{children:"Your Resend API Key"}),"\n",(0,i.jsx)(s.h4,{id:"system-email-address",children:"System Email Address"}),"\n",(0,i.jsx)(s.p,{children:"Your System Email Address"}),"\n",(0,i.jsx)(s.h2,{id:"frontend-config-file",children:"Frontend config file"}),"\n",(0,i.jsxs)(s.p,{children:["You can also configure your frontend by creating a ",(0,i.jsx)(s.code,{children:".env"})," file in the ",(0,i.jsx)(s.code,{children:"apps/web"})," folder."]}),"\n",(0,i.jsx)(s.h3,{id:"authentication-oauth-configuration",children:"Authentication (Oauth) configuration"}),"\n",(0,i.jsxs)(s.p,{children:["Following the integration of OAuth using NextAuth to manage sign-ups/ins. For this to work, you now need to add two lines to your ",(0,i.jsx)(s.code,{children:".env"})," config file."]}),"\n",(0,i.jsxs)(r.UW,{type:"info",children:[(0,i.jsx)(s.p,{children:"To safely encrypt tokens and email hashes, you need a NextAuth secret."}),(0,i.jsxs)(s.p,{children:["To create one, either run ",(0,i.jsx)(s.code,{children:"npx auth secret"}),", or on UNIX based systems (MacOS/Linux) you can use ",(0,i.jsx)(s.code,{children:"openssl rand -base64 33"}),"."]}),(0,i.jsx)(s.p,{children:"Copy this string into your .env file as NEXTAUTH_SECRET."})]}),"\n",(0,i.jsxs)(s.p,{children:["Here is an example of the ",(0,i.jsx)(s.code,{children:".env"})," file :"]}),"\n",(0,i.jsx)(s.pre,{"data-language":"env","data-theme":"default",filename:"apps/web/.env",hasCopyCode:!0,children:(0,i.jsxs)(s.code,{"data-language":"env","data-theme":"default",children:[(0,i.jsx)(s.span,{className:"line highlighted",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# Learnhouse configuration"})}),"\n",(0,i.jsx)(s.span,{className:"line highlighted",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_LEARNHOUSE_MULTI_ORG=false"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXT_PUBLIC_LEARNHOUSE_DEFAULT_ORG=defaultorg"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"# NextAuth Configuration"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXTAUTH_SECRET={generated_secret}"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"NEXTAUTH_URL=http://localhost:3000/"})})]})}),"\n",(0,i.jsxs)(s.p,{children:["To learn more about Custom Authentication, visit the NextAuth docs ",(0,i.jsx)(s.a,{href:"https://authjs.dev/getting-started/authentication",children:"here"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"multi-organizations",children:"Multi Organizations"}),"\n",(0,i.jsxs)(s.p,{children:["Please check the ",(0,i.jsx)(s.a,{href:"./organization-hosting-modes",children:"Multi Organization"})," section for more information."]})]})}let c=(0,o.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,l.a)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)},pageOpts:{filePath:"pages/self-hosting/configuration.mdx",route:"/self-hosting/configuration",timestamp:1732475264e3,title:"Configuration",headings:a},pageNextRoute:"/self-hosting/configuration"})}},e=>{var s=s=>e(e.s=s);e.O(0,[673,888,774,179],()=>s(1091)),_N_E=e.O()}]);